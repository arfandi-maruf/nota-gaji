<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Nota Gaji & Pengeluaran (Realtime DB)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">

<!-- html2pdf -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
</head>

<body>

<nav class="navbar">
    <div class="nav-item" onclick="showPage('gajiPage')">Gaji</div>
    <div class="nav-item" onclick="showPage('pengeluaranPage')">Pengeluaran</div>
</nav>

<div class="container">

    <!-- GAJI -->
    <div id="gajiPage" class="page">
        <h2>ðŸ“˜ Nota Gaji</h2>

        <div class="input-group">
            <input type="date" id="gajiTanggal">
            <input type="number" id="gajiJumlah" placeholder="Jumlah Gaji">
        </div>

        <div class="input-group">
            <button onclick="tambahGaji()">Tambah</button>
            <button class="danger" onclick="hapusSemua('gaji')">Hapus Semua</button>
            <button class="info" onclick="exportData()">Export</button>
            <button class="info" onclick="openImportDialog()">Import</button>
        </div>

        <button class="pdf-btn" onclick="downloadPDF('gaji')">Download PDF Gaji</button>

        <div id="tabelGajiWrapper"></div>
        <div id="grandTotalGaji" class="grand-total"></div>
    </div>

    <!-- PENGELUARAN -->
    <div id="pengeluaranPage" class="page" style="display:none">
        <h2>ðŸ“• Nota Pengeluaran</h2>

        <div class="input-group">
            <input type="date" id="pengTanggal">
            <input type="text" id="pengNama" placeholder="Nama Barang">
            <input type="number" id="pengQty" placeholder="Banyaknya">
            <input type="number" id="pengHarga" placeholder="Harga Satuan">
        </div>

        <div class="input-group">
            <button onclick="tambahPengeluaran()">Tambah</button>
            <button class="danger" onclick="hapusSemua('pengeluaran')">Hapus Semua</button>
            <button class="info" onclick="exportData()">Export</button>
            <button class="info" onclick="openImportDialog()">Import</button>
        </div>

        <button class="pdf-btn red" onclick="downloadPDF('pengeluaran')">Download PDF Pengeluaran</button>

        <div id="tabelPengWrapper"></div>
        <div id="grandTotalPengeluaran" class="grand-total"></div>
    </div>

</div>

<!-- Firebase Realtime DB -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { getDatabase, ref, push, onValue, remove, set, get } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

  // CONFIG SESUAI PROJECTMU
  const firebaseConfig = {
    apiKey: "AIzaSyAFrTl69PSRMptdzpenzJufCJ2E70D0L54",
    authDomain: "notapengeluaranapp.firebaseapp.com",
    databaseURL: "https://notapengeluaranapp-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "notapengeluaranapp",
    storageBucket: "notapengeluaranapp.firebasestorage.app",
    messagingSenderId: "667913212428",
    appId: "1:667913212428:web:1cf5b4c1d7f82ec52d5429"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  window.firebaseRT = { db, ref, push, onValue, remove, set, get };
</script>

<script src="script.js"></script>

</body>
</html>
